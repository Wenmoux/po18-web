<!doctype html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <title>é”¦å­—å¸ - è¼è˜¼è¾</title>
        <link rel="stylesheet" href="css/style.css?v=20251224d" />
        <link
            href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;600&display=swap"
            rel="stylesheet"
        />
        <!-- Chart.jsåº“ -->
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <style>
            /* åå°ç®¡ç†ä¸“ç”¨æ ·å¼ - ç§»åŠ¨ç«¯é€‚é… */
            .admin-container {
                max-width: 1400px;
                margin: 0 auto;
                padding: 20px;
            }

            .admin-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 20px;
                background: linear-gradient(135deg, #9d8bd6 0%, #7c6ab8 100%);
                border-radius: var(--md-radius-lg);
                color: white;
                margin-bottom: 20px;
                box-shadow: var(--md-elevation-2);
                flex-wrap: wrap;
                gap: 12px;
            }

            .admin-header h1 {
                margin: 0;
                font-size: 1.5rem;
            }

            .admin-nav {
                display: flex;
                gap: 8px;
                flex-wrap: wrap;
            }

            .admin-nav-btn {
                padding: 8px 16px;
                background: rgba(255, 255, 255, 0.2);
                border: none;
                border-radius: var(--md-radius-full);
                color: white;
                cursor: pointer;
                transition: var(--md-transition);
                font-size: 14px;
                white-space: nowrap;
            }

            .admin-nav-btn:hover,
            .admin-nav-btn.active {
                background: rgba(255, 255, 255, 0.4);
            }

            .admin-panel {
                display: none;
                background: #f5f3ff;
                border-radius: var(--md-radius-lg);
                padding: 20px;
                box-shadow: var(--md-elevation-1);
            }

            .admin-panel.active {
                display: block;
            }

            .admin-panel h2 {
                margin: 0 0 20px 0;
                padding-bottom: 10px;
                border-bottom: 2px solid var(--md-primary);
                color: #333;
                font-weight: 600;
                font-size: 24px;
            }

            /* ç»Ÿè®¡å¡ç‰‡ */
            .stats-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 20px;
                margin-bottom: 30px;
            }

            .stat-card {
                background: var(--md-surface-container-low);
                padding: 20px;
                border-radius: var(--md-radius-lg);
                text-align: center;
                box-shadow: var(--md-elevation-1);
            }

            .stat-card h3 {
                margin: 0 0 10px 0;
                color: var(--md-on-surface-variant);
                font-size: 0.9rem;
            }

            .stat-card .stat-value {
                font-size: 2rem;
                font-weight: bold;
                color: var(--md-primary);
            }

            /* æ•°æ®è¡¨æ ¼ */
            .table-container {
                overflow-x: auto;
                margin-top: 15px;
                border: 1px solid #e0e0e0;
                border-radius: 8px;
            }

            .data-table {
                width: 100%;
                border-collapse: collapse;
                margin: 0;
            }

            .data-table th,
            .data-table td {
                padding: 6px 8px;
                text-align: left;
                border-bottom: 1px solid #eee;
                white-space: nowrap;
            }

            .data-table th {
                background: #f8f9fa;
                font-weight: 600;
                color: #333;
                font-size: 11px;
                position: sticky;
                top: 0;
                z-index: 10;
                border-bottom: 2px solid #ddd;
            }

            .data-table td {
                font-size: 11px;
            }

            .data-table tbody tr:hover {
                background-color: #f5f5f5;
            }

            .data-table .actions {
                display: flex;
                gap: 5px;
                justify-content: flex-start;
            }

            .btn-sm {
                padding: 3px 8px;
                font-size: 10px;
                border-radius: 4px;
                white-space: nowrap;
            }

            .btn-edit {
                background: #4caf50;
                color: white;
                border: none;
                cursor: pointer;
            }

            .btn-delete {
                background: #f44336;
                color: white;
                border: none;
                cursor: pointer;
            }

            .btn-view {
                background: #2196f3;
                color: white;
                border: none;
                cursor: pointer;
            }

            /* æœç´¢å’Œç­›é€‰ */
            .toolbar {
                display: flex;
                gap: 15px;
                margin-bottom: 20px;
                flex-wrap: wrap;
            }

            .toolbar input,
            .toolbar select {
                padding: 10px 15px;
                border: 1px solid #ddd;
                border-radius: 8px;
                font-size: 0.95rem;
            }

            .toolbar input {
                flex: 1;
                min-width: 200px;
            }

            /* ç¼–è¾‘å¼¹çª— */
            .edit-modal {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.5);
                z-index: 1000;
                align-items: center;
                justify-content: center;
            }

            .edit-modal.active {
                display: flex;
            }

            .edit-modal-content {
                background: white;
                border-radius: 12px;
                padding: 25px;
                max-width: 650px;
                width: 90%;
                max-height: 85vh;
                overflow-y: auto;
            }

            .edit-modal-content h3 {
                margin: 0 0 15px 0;
                color: #333;
                position: sticky;
                top: -25px;
                background: white;
                padding: 15px 0;
                z-index: 1;
            }

            .form-group {
                margin-bottom: 12px;
            }

            .form-group label {
                display: block;
                margin-bottom: 5px;
                font-weight: 500;
                color: #555;
                font-size: 13px;
            }

            .form-group input,
            .form-group textarea,
            .form-group select {
                width: 100%;
                padding: 8px 10px;
                border: 1px solid #ddd;
                border-radius: 6px;
                font-size: 13px;
            }

            .form-group textarea {
                min-height: 100px;
                resize: vertical;
            }

            .modal-actions {
                display: flex;
                gap: 10px;
                justify-content: flex-end;
                margin-top: 20px;
            }

            /* åˆ†é¡µ */
            .pagination {
                display: flex;
                gap: 5px;
                justify-content: center;
                margin-top: 20px;
            }

            .pagination button {
                padding: 8px 12px;
                border: 1px solid #ddd;
                background: white;
                border-radius: 6px;
                cursor: pointer;
            }

            .pagination button.active {
                background: #667eea;
                color: white;
                border-color: #667eea;
            }

            .pagination button:disabled {
                opacity: 0.5;
                cursor: not-allowed;
            }

            /* æ— æƒé™æç¤º */
            .no-access {
                text-align: center;
                padding: 100px 20px;
            }

            .no-access h2 {
                color: #f44336;
                margin-bottom: 20px;
            }

            .loading {
                text-align: center;
                padding: 50px;
                color: #666;
            }

            /* æ ‡ç­¾æ˜¾ç¤º */
            .tag-list {
                display: flex;
                flex-wrap: wrap;
                gap: 5px;
            }

            .tag-item {
                padding: 2px 8px;
                background: #e8f0fe;
                color: #1967d2;
                border-radius: 12px;
                font-size: 0.8rem;
            }

            /* Toastæç¤º */
            .toast {
                position: fixed;
                bottom: 30px;
                left: 50%;
                transform: translateX(-50%);
                padding: 12px 24px;
                background: var(--md-on-surface);
                color: var(--md-surface);
                border-radius: var(--md-radius-sm);
                z-index: 9999;
                opacity: 0;
                transition: opacity 0.3s;
            }

            .toast.show {
                opacity: 1;
            }

            .toast.success {
                background: #1b5e20;
            }
            .toast.error {
                background: var(--md-error);
            }

            /* å¤é€‰æ¡†æ ·å¼ */
            .data-table input[type="checkbox"] {
                width: 20px;
                height: 20px;
                cursor: pointer;
                margin: 0;
                vertical-align: middle;
                display: inline-block;
                border: 2px solid #667eea;
                border-radius: 3px;
            }

            .book-checkbox {
                accent-color: #667eea;
            }

            #select-all-books {
                accent-color: #667eea;
                width: 20px;
                height: 20px;
            }

            /* æ ¼å¼é€‰æ‹©æ¡†æ ·å¼ */
            .format-checkbox {
                background: white;
            }

            .format-checkbox:has(input:checked) {
                background: #e8f0fe;
                border-color: #667eea !important;
            }

            .format-checkbox input:checked + span::before {
                content: "âœ” ";
                color: #667eea;
                font-weight: bold;
            }

            /* å¤é€‰æ¡†åˆ—å›ºå®šå®½åº¦ */
            .data-table th:first-child,
            .data-table td:first-child {
                width: 50px;
                min-width: 50px;
                text-align: center;
                padding: 8px;
                background: #f0f4ff;
            }

            /* é€‰ä¸­è¡Œé«˜äº® */
            .data-table tbody tr:has(input[type="checkbox"]:checked) {
                background-color: #e8f0fe;
            }

            .data-table tbody tr:has(input[type="checkbox"]:checked) td {
                font-weight: 500;
                color: #1a1a1a;
            }

            /* ç§»åŠ¨ç«¯é€‚é… */
            @media (max-width: 768px) {
                .admin-container {
                    padding: 12px;
                }

                .admin-header {
                    padding: 16px;
                    flex-direction: column;
                    align-items: flex-start;
                }

                .admin-header h1 {
                    font-size: 1.25rem;
                }

                .admin-nav {
                    width: 100%;
                    justify-content: flex-start;
                }

                .admin-nav-btn {
                    padding: 6px 12px;
                    font-size: 13px;
                }

                .stats-grid {
                    grid-template-columns: repeat(2, 1fr);
                    gap: 12px;
                }

                .stat-card {
                    padding: 16px;
                }

                .stat-card .stat-value {
                    font-size: 1.5rem;
                }

                .table-container {
                    overflow-x: auto;
                    -webkit-overflow-scrolling: touch;
                }

                .data-table th,
                .data-table td {
                    padding: 8px 6px;
                    font-size: 12px;
                }

                .toolbar {
                    flex-direction: column;
                    gap: 10px;
                }

                .toolbar input,
                .toolbar select {
                    width: 100%;
                }

                .edit-modal-content {
                    width: 95%;
                    padding: 20px;
                }
            }

            @media (max-width: 480px) {
                .admin-container {
                    padding: 8px;
                }

                .admin-header {
                    padding: 12px;
                }

                .admin-nav-btn {
                    flex: 1;
                    min-width: calc(50% - 4px);
                    font-size: 12px;
                    padding: 8px;
                }

                .stats-grid {
                    grid-template-columns: 1fr;
                }
            }
            
            /* æ€§èƒ½ç›‘æ§é¢æ¿æ ·å¼ */
            .monitoring-charts {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 20px;
                margin: 20px 0;
            }
            
            .chart-container {
                background: white;
                border-radius: 8px;
                padding: 15px;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                height: 300px;
            }
            
            .alert-config-form {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 20px;
                margin: 20px 0;
            }
            
            .form-group {
                display: flex;
                flex-direction: column;
            }
            
            .form-group label {
                margin-bottom: 5px;
                font-weight: 500;
            }
            
            .form-group input {
                padding: 8px 12px;
                border: 1px solid #ddd;
                border-radius: 4px;
                font-size: 14px;
            }
            
            .alert-history {
                margin-top: 20px;
            }
            
            #alertHistoryTable {
                width: 100%;
                border-collapse: collapse;
            }
            
            #alertHistoryTable th,
            #alertHistoryTable td {
                padding: 12px;
                text-align: left;
                border-bottom: 1px solid #eee;
            }
            
            #alertHistoryTable th {
                background-color: #f8f9fa;
                font-weight: 600;
            }
            
            /* å“åº”å¼è°ƒæ•´ */
            @media (max-width: 768px) {
                .monitoring-charts {
                    grid-template-columns: 1fr;
                }
                
                .alert-config-form {
                    grid-template-columns: 1fr;
                }
                
                .admin-nav {
                    flex-wrap: wrap;
                }
                
                .admin-nav-btn {
                    flex: 1 0 30%;
                    margin: 2px;
                    font-size: 12px;
                }
            }
            
            /* ç³»ç»Ÿä¿¡æ¯æ ·å¼ */
            .system-info {
                margin-top: 20px;
                padding: 15px;
                background: #f8f9fa;
                border-radius: 8px;
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
            }
            
            .info-item {
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
            
            .info-item strong {
                color: #495057;
            }
            
            .info-item span {
                color: #6c757d;
            }
            
            /* é…ç½®åŒºåŸŸæ ·å¼ */
            .config-section {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 15px;
                background: #f8f9fa;
                border-radius: 8px;
            }
            
            .config-item {
                display: flex;
                align-items: center;
                gap: 10px;
            }
            
            .config-item span:first-child {
                font-weight: 500;
                color: #495057;
            }
            
            .config-item span:last-child {
                color: #6c757d;
            }
            
            /* å¼€å…³æ ·å¼ */
            .switch {
                position: relative;
                display: inline-block;
                width: 60px;
                height: 34px;
            }
            
            .switch input {
                opacity: 0;
                width: 0;
                height: 0;
            }
            
            .slider {
                position: absolute;
                cursor: pointer;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: #ccc;
                transition: .4s;
                border-radius: 34px;
            }
            
            .slider:before {
                position: absolute;
                content: "";
                height: 26px;
                width: 26px;
                left: 4px;
                bottom: 4px;
                background-color: white;
                transition: .4s;
                border-radius: 50%;
            }
            
            input:checked + .slider {
                background-color: #2196F3;
            }
            
            input:checked + .slider:before {
                transform: translateX(26px);
            }
            
            /* æœ€åæ›´æ–°æ—¶é—´ */
            .last-update {
                text-align: right;
                color: #6c757d;
                font-size: 14px;
                margin-top: 20px;
                padding: 10px;
                background: #f8f9fa;
                border-radius: 8px;
            }
        </style>
    </head>
    <body>
        <div class="admin-container" id="admin-app">
            <!-- åŠ è½½ä¸­ -->
            <div class="loading" id="loading">
                <p>æ­£åœ¨éªŒè¯æƒé™...</p>
            </div>

            <!-- æ— æƒé™ -->
            <div class="no-access" id="no-access" style="display: none">
                <h2>âš ï¸ æ— æƒé™è®¿é—®</h2>
                <p>æ‚¨æ²¡æœ‰ç®¡ç†å‘˜æƒé™ï¼Œæ— æ³•è®¿é—®é”¦å­—å¸</p>
                <a href="/" class="btn btn-primary" style="margin-top: 20px; display: inline-block">è¿”å›æ˜¥å°½é˜</a>
            </div>

            <!-- ç®¡ç†ç•Œé¢ -->
            <div id="admin-main" style="display: none">
                <div class="admin-header">
                    <h1>ğŸ“Š é”¦å­—å¸</h1>
                    <nav class="admin-nav">
                        <a href="/" class="admin-nav-btn" style="text-decoration: none;">ğŸŒ¸ è¿”å›æ˜¥å°½é˜</a>
                        <button class="admin-nav-btn active" data-panel="dashboard">ğŸ“Š æ¦‚è§ˆ</button>
                        <button class="admin-nav-btn" data-panel="users">ğŸ‘¥ ç”¨æˆ·ç®¡ç†</button>
                        <button class="admin-nav-btn" data-panel="books">ğŸ“š ä¹¦ç±ç®¡ç†</button>
                        <button class="admin-nav-btn" data-panel="shared">ğŸ”— ç»¿è‚¥çº¢ç˜¦</button>
                        <button class="admin-nav-btn" data-panel="export">ğŸ“¤ å¯¼å‡ºç®¡ç†</button>
                        <button class="admin-nav-btn" data-panel="crawler">ğŸ•·ï¸ çˆ¬è™«ç®¡ç†</button>
                        <button class="admin-nav-btn" data-panel="backup">ğŸ’¾ å¤‡ä»½ç®¡ç†</button>
                        <button class="admin-nav-btn" data-panel="corrections">âœ… çº é”™å®¡æ ¸</button>
                        <button class="admin-nav-btn" data-panel="monitoring">ğŸ“ˆ æ€§èƒ½ç›‘æ§</button>
                        <button class="admin-nav-btn" data-panel="settings">âš™ï¸ ç³»ç»Ÿè®¾ç½®</button>
                    </nav>
                </div>

                <!-- æ¦‚è§ˆé¢æ¿ -->
                <div class="admin-panel active" id="panel-dashboard">
                    <h2>ğŸ“Š ç³»ç»Ÿæ¦‚è§ˆ</h2>
                    
                    <!-- ç»Ÿè®¡å¡ç‰‡ -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>ğŸ‘¤ ç”¨æˆ·æ€»æ•°</h3>
                            <div class="stat-value" id="stat-users">-</div>
                        </div>
                        <div class="stat-card">
                            <h3>ğŸ“š ä¹¦ç±æ€»æ•°</h3>
                            <div class="stat-value" id="stat-books">-</div>
                        </div>
                        <div class="stat-card">
                            <h3>ğŸ“– ç« èŠ‚æ€»æ•°</h3>
                            <div class="stat-value" id="stat-total-chapters">-</div>
                        </div>
                        <div class="stat-card">
                            <h3>ğŸ’¾ å·²ç¼“å­˜ç« èŠ‚</h3>
                            <div class="stat-value" id="stat-cached-chapters">-</div>
                        </div>
                        <div class="stat-card">
                            <h3>ğŸ”— å…±äº«ä¹¦ç±</h3>
                            <div class="stat-value" id="stat-shared">-</div>
                        </div>
                        <div class="stat-card">
                            <h3>ğŸ“¥ ä¸‹è½½æ¬¡æ•°</h3>
                            <div class="stat-value" id="stat-downloads">-</div>
                        </div>
                    </div>
                    
                    <!-- ç”¨æˆ·æ´»è·ƒåº¦ç»Ÿè®¡ -->
                    <div class="card">
                        <h3>ğŸ‘¥ ç”¨æˆ·æ´»è·ƒåº¦ç»Ÿè®¡</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <h4>ä»Šæ—¥æ´»è·ƒç”¨æˆ·</h4>
                                <div class="stat-value" id="monitor-active-today">-</div>
                            </div>
                            <div class="stat-card">
                                <h4>æœ¬å‘¨æ´»è·ƒç”¨æˆ·</h4>
                                <div class="stat-value" id="monitor-active-week">-</div>
                            </div>
                            <div class="stat-card">
                                <h4>æœ¬æœˆæ´»è·ƒç”¨æˆ·</h4>
                                <div class="stat-value" id="monitor-active-month">-</div>
                            </div>
                            <div class="stat-card">
                                <h4>æ€»æ´»è·ƒç”¨æˆ·</h4>
                                <div class="stat-value" id="monitor-active-total">-</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- æ•°æ®åº“ç»Ÿè®¡ -->
                    <div class="card">
                        <h3>ğŸ—„ï¸ æ•°æ®åº“ç»Ÿè®¡</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <h4>æ•°æ®åº“å¤§å°</h4>
                                <div class="stat-value" id="monitor-db-size">-</div>
                            </div>
                            <div class="stat-card">
                                <h4>ç”¨æˆ·è¡¨è®°å½•æ•°</h4>
                                <div class="stat-value" id="monitor-table-users">-</div>
                            </div>
                            <div class="stat-card">
                                <h4>ä¹¦åº“è¡¨è®°å½•æ•°</h4>
                                <div class="stat-value" id="monitor-table-bookshelf">-</div>
                            </div>
                            <div class="stat-card">
                                <h4>ç« èŠ‚ç¼“å­˜æ•°</h4>
                                <div class="stat-value" id="monitor-table-chapters">-</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ç³»ç»Ÿé…ç½® -->
                    <div class="card">
                        <h3>âš™ï¸ ç³»ç»Ÿé…ç½®</h3>
                        <div class="config-section">
                            <div class="config-item">
                                <span>ç”¨æˆ·æ³¨å†Œï¼š</span>
                                <span id="registration-status">-</span>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="registration-toggle" />
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="last-update" id="dashboard-last-update">æœ€åæ›´æ–°: -</div>
                </div>

                <!-- ç³»ç»Ÿç›‘æ§é¢æ¿ -->
                <div class="admin-panel" id="panel-monitor">
                    <h2>ğŸ“Š ç³»ç»Ÿç›‘æ§</h2>

                    <!-- æœåŠ¡å™¨çŠ¶æ€ -->
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-bottom: 20px">
                        <h3 style="margin: 0 0 15px 0">ğŸ–¥ï¸ æœåŠ¡å™¨çŠ¶æ€</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <h3>CPUæ ¸å¿ƒæ•°</h3>
                                <div class="stat-value" id="monitor-cpu-cores">-</div>
                            </div>
                            <div class="stat-card">
                                <h3>å†…å­˜ä½¿ç”¨ç‡</h3>
                                <div class="stat-value" id="monitor-mem-percent">-</div>
                            </div>
                            <div class="stat-card">
                                <h3>å·²ç”¨å†…å­˜</h3>
                                <div class="stat-value" id="monitor-mem-used">-</div>
                            </div>
                            <div class="stat-card">
                                <h3>ç³»ç»Ÿè¿è¡Œæ—¶é—´</h3>
                                <div class="stat-value" id="monitor-sys-uptime">-</div>
                            </div>
                            <div class="stat-card">
                                <h3>è¿›ç¨‹è¿è¡Œæ—¶é—´</h3>
                                <div class="stat-value" id="monitor-process-uptime">-</div>
                            </div>
                            <div class="stat-card">
                                <h3>è¿›ç¨‹å†…å­˜</h3>
                                <div class="stat-value" id="monitor-process-mem">-</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px; padding: 15px; background: white; border-radius: 8px">
                            <p style="margin: 0; color: #666; font-size: 14px">
                                <strong>ç³»ç»Ÿä¿¡æ¯ï¼š</strong>
                                <span id="monitor-platform">-</span>
                                |
                                <span id="monitor-arch">-</span>
                                |
                                <span id="monitor-hostname">-</span>
                            </p>
                        </div>
                    </div>

                    <!-- æ•°æ®åº“ç»Ÿè®¡ -->
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-bottom: 20px">
                        <h3 style="margin: 0 0 15px 0">ğŸ’¾ æ•°æ®åº“ç»Ÿè®¡</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <h3>æ•°æ®åº“å¤§å°</h3>
                                <div class="stat-value" id="monitor-db-size">-</div>
                            </div>
                            <div class="stat-card">
                                <h3>ç”¨æˆ·è®°å½•</h3>
                                <div class="stat-value" id="monitor-table-users">-</div>
                            </div>
                            <div class="stat-card">
                                <h3>ä¹¦æ¶è®°å½•</h3>
                                <div class="stat-value" id="monitor-table-bookshelf">-</div>
                            </div>
                            <div class="stat-card">
                                <h3>ä¹¦ç±å…ƒæ•°æ®</h3>
                                <div class="stat-value" id="monitor-table-metadata">-</div>
                            </div>
                            <div class="stat-card">
                                <h3>ç« èŠ‚ç¼“å­˜</h3>
                                <div class="stat-value" id="monitor-table-chapters">-</div>
                            </div>
                            <div class="stat-card">
                                <h3>é˜…è¯»ç»Ÿè®¡</h3>
                                <div class="stat-value" id="monitor-table-stats">-</div>
                            </div>
                        </div>
                    </div>

                    <!-- ç”¨æˆ·æ´»è·ƒåº¦ -->
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-bottom: 20px">
                        <h3 style="margin: 0 0 15px 0">ğŸ‘¥ ç”¨æˆ·æ´»è·ƒåº¦</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <h3>24å°æ—¶æ´»è·ƒ</h3>
                                <div class="stat-value" id="monitor-active-today">-</div>
                            </div>
                            <div class="stat-card">
                                <h3>7å¤©æ´»è·ƒ</h3>
                                <div class="stat-value" id="monitor-active-week">-</div>
                            </div>
                            <div class="stat-card">
                                <h3>30å¤©æ´»è·ƒ</h3>
                                <div class="stat-value" id="monitor-active-month">-</div>
                            </div>
                            <div class="stat-card">
                                <h3>æ€»ç”¨æˆ·æ•°</h3>
                                <div class="stat-value" id="monitor-active-total">-</div>
                            </div>
                            <div class="stat-card">
                                <h3>ä»Šæ—¥é˜…è¯»ç”¨æˆ·</h3>
                                <div class="stat-value" id="monitor-today-users">-</div>
                            </div>
                            <div class="stat-card">
                                <h3>ä»Šæ—¥é˜…è¯»æ—¶é•¿</h3>
                                <div class="stat-value" id="monitor-today-minutes">-</div>
                            </div>
                        </div>
                    </div>

                    <div style="text-align: center; margin-top: 20px">
                        <button class="btn btn-primary" onclick="Admin.refreshMonitor()">ğŸ”„ åˆ·æ–°æ•°æ®</button>
                        <span id="monitor-last-update" style="margin-left: 15px; color: #666; font-size: 14px"></span>
                    </div>
                </div>

                <!-- ç”¨æˆ·ç®¡ç†é¢æ¿ -->
                <div class="admin-panel" id="panel-users">
                    <div class="toolbar">
                        <input type="text" id="user-search" placeholder="æœç´¢ç”¨æˆ·å..." />
                        <button class="btn btn-primary" onclick="Admin.searchUsers()">æœç´¢</button>
                        <button class="btn btn-outline" onclick="Admin.loadUsers()">åˆ·æ–°</button>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>ç”¨æˆ·å</th>
                                    <th>PO18 Cookie</th>
                                    <th>å…±äº«çŠ¶æ€</th>
                                    <th>å…¨ç«™ä¹¦åº“</th>
                                    <th>äº‘ç«¯ä¹¦åº“</th>
                                    <th>å…±äº«ä¹¦ç±æ•°</th>
                                    <th>æ³¨å†Œæ—¶é—´</th>
                                    <th>æ“ä½œ</th>
                                </tr>
                            </thead>
                            <tbody id="users-table-body"></tbody>
                        </table>
                    </div>
                    <div class="pagination" id="users-pagination"></div>
                </div>

                <!-- ä¹¦ç±å…ƒä¿¡æ¯é¢æ¿ -->
                <div class="admin-panel" id="panel-books">
                    <div class="toolbar">
                        <input type="text" id="book-search" placeholder="æœç´¢ä¹¦åæˆ–ä½œè€…..." />
                        <button class="btn btn-primary" onclick="Admin.searchBooks()">æœç´¢</button>
                        <button class="btn btn-outline" onclick="Admin.loadBooks()">åˆ·æ–°</button>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ä¹¦ç±ID</th>
                                    <th>å°é¢</th>
                                    <th>ä¹¦å</th>
                                    <th>ä½œè€…</th>
                                    <th>åˆ†ç±»</th>
                                    <th>æ€»ç« èŠ‚</th>
                                    <th>å…è´¹</th>
                                    <th>ä»˜è´¹</th>
                                    <th>å­—æ•°</th>
                                    <th>çŠ¶æ€</th>
                                    <th>æœ€æ–°ç« èŠ‚</th>
                                    <th>æ›´æ–°æ—¶é—´</th>
                                    <th>æ“ä½œ</th>
                                </tr>
                            </thead>
                            <tbody id="books-table-body"></tbody>
                        </table>
                    </div>
                    <div class="pagination" id="books-pagination"></div>
                </div>

                <!-- å…±äº«ä¹¦åº“é¢æ¿ -->
                <div class="admin-panel" id="panel-shared">
                    <div class="toolbar">
                        <input type="text" id="shared-search" placeholder="æœç´¢ä¹¦å..." />
                        <button class="btn btn-primary" onclick="Admin.searchShared()">æœç´¢</button>
                        <button class="btn btn-outline" onclick="Admin.loadShared()">åˆ·æ–°</button>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>ä¹¦å</th>
                                    <th>ä½œè€…</th>
                                    <th>æ ¼å¼</th>
                                    <th>ä¸Šä¼ è€…</th>
                                    <th>ä¸‹è½½æ¬¡æ•°</th>
                                    <th>ä¸Šä¼ æ—¶é—´</th>
                                    <th>æ“ä½œ</th>
                                </tr>
                            </thead>
                            <tbody id="shared-table-body"></tbody>
                        </table>
                    </div>
                    <div class="pagination" id="shared-pagination"></div>
                </div>

                <!-- ä¹¦åº“å¯¼å‡ºé¢æ¿ -->
                <div class="admin-panel" id="panel-export">
                    <p style="color: #666; margin-bottom: 20px">æ‰¹é‡å¯¼å‡ºä¹¦åº“ä¸­çš„ä¹¦ç±ï¼Œæ”¯æŒTXTå’ŒEPUBæ ¼å¼</p>

                    <!-- å¯¼å‡ºæ§åˆ¶ -->
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-bottom: 20px">
                        <div
                            style="
                                display: flex;
                                gap: 15px;
                                flex-wrap: wrap;
                                align-items: flex-end;
                                margin-bottom: 15px;
                            "
                        >
                            <div style="flex: 1; min-width: 200px">
                                <label style="display: block; margin-bottom: 5px; font-weight: 500">å¯¼å‡ºæ ¼å¼</label>
                                <div style="display: flex; gap: 15px">
                                    <label
                                        style="
                                            display: flex;
                                            align-items: center;
                                            cursor: pointer;
                                            padding: 8px 16px;
                                            border: 2px solid #ddd;
                                            border-radius: 8px;
                                            transition: all 0.2s;
                                        "
                                        class="format-checkbox"
                                    >
                                        <input
                                            type="checkbox"
                                            id="export-format-txt"
                                            checked
                                            style="margin-right: 8px; width: 18px; height: 18px; accent-color: #667eea"
                                        />
                                        <span>âœ” TXT</span>
                                    </label>
                                    <label
                                        style="
                                            display: flex;
                                            align-items: center;
                                            cursor: pointer;
                                            padding: 8px 16px;
                                            border: 2px solid #ddd;
                                            border-radius: 8px;
                                            transition: all 0.2s;
                                        "
                                        class="format-checkbox"
                                    >
                                        <input
                                            type="checkbox"
                                            id="export-format-epub"
                                            checked
                                            style="margin-right: 8px; width: 18px; height: 18px; accent-color: #667eea"
                                        />
                                        <span>âœ” EPUB</span>
                                    </label>
                                </div>
                            </div>
                            <div style="display: flex; gap: 10px">
                                <button class="btn btn-outline" onclick="Admin.selectAllBooks()">âœ” å…¨é€‰</button>
                                <button class="btn btn-outline" onclick="Admin.deselectAllBooks()">âœ˜ å–æ¶ˆå…¨é€‰</button>
                                <button class="btn btn-primary" onclick="Admin.startExport()">ğŸ“¦ å¼€å§‹å¯¼å‡º</button>
                            </div>
                        </div>

                        <!-- è¿›åº¦æ¡ -->
                        <div id="export-progress" style="display: none">
                            <div
                                style="
                                    background: #e0e0e0;
                                    height: 8px;
                                    border-radius: 4px;
                                    overflow: hidden;
                                    margin-bottom: 10px;
                                "
                            >
                                <div
                                    id="export-progress-bar"
                                    style="
                                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                                        height: 100%;
                                        width: 0%;
                                        transition: width 0.3s;
                                    "
                                ></div>
                            </div>
                            <div style="display: flex; justify-content: space-between; color: #666; font-size: 14px">
                                <span>
                                    çŠ¶æ€ï¼š
                                    <strong id="export-status">å‡†å¤‡ä¸­...</strong>
                                </span>
                                <span>
                                    è¿›åº¦ï¼š
                                    <strong id="export-current">0</strong>
                                    /
                                    <strong id="export-total">0</strong>
                                </span>
                            </div>
                        </div>
                    </div>

                    <!-- ä¹¦ç±åˆ—è¡¨ -->
                    <div class="toolbar">
                        <input type="text" id="export-search" placeholder="æœç´¢ä¹¦åæˆ–ä½œè€…..." />
                        <button class="btn btn-primary" onclick="Admin.searchExportBooks()">æœç´¢</button>
                        <button class="btn btn-outline" onclick="Admin.loadExportBooks()">åˆ·æ–°</button>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>
                                        <input
                                            type="checkbox"
                                            id="select-all-books"
                                            onchange="Admin.toggleAllBooks(this.checked)"
                                        />
                                    </th>
                                    <th>ä¹¦ç±ID</th>
                                    <th>ä¹¦å</th>
                                    <th>ä½œè€…</th>
                                    <th>å·²æœ‰ç« èŠ‚</th>
                                    <th>æ€»ç« èŠ‚</th>
                                    <th>å…è´¹</th>
                                    <th>ä»˜è´¹</th>
                                    <th>çŠ¶æ€</th>
                                    <th>æ›´æ–°æ—¶é—´</th>
                                </tr>
                            </thead>
                            <tbody id="export-books-table-body"></tbody>
                        </table>
                    </div>
                    <div class="pagination" id="export-pagination"></div>
                </div>

                <!-- IDéå†æ§åˆ¶é¢æ¿ -->
                <div class="admin-panel" id="panel-crawler">
                    <p style="color: #666; margin-bottom: 20px">
                        ä»æ•°æ®åº“æˆ–æŒ‡å®šIDèŒƒå›´éå†ï¼Œè‡ªåŠ¨è·å–PO18ä¹¦ç±ä¿¡æ¯å¹¶ä¿å­˜åˆ°å…ƒä¿¡æ¯æ•°æ®åº“
                    </p>

                    <div
                        class="crawler-controls"
                        style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-bottom: 20px"
                    >
                        <!-- æ¨¡å¼é€‰æ‹© -->
                        <div style="margin-bottom: 20px">
                            <label style="display: block; margin-bottom: 10px; font-weight: 500">éå†æ¨¡å¼</label>
                            <div style="display: flex; gap: 15px">
                                <label style="display: flex; align-items: center; cursor: pointer">
                                    <input
                                        type="radio"
                                        name="crawler-mode"
                                        value="database"
                                        checked
                                        onchange="Admin.toggleCrawlerMode()"
                                        style="margin-right: 8px"
                                    />
                                    <span>æ•°æ®åº“æ¨¡å¼ï¼ˆéå†å·²æœ‰ä¹¦ç±IDï¼‰</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer">
                                    <input
                                        type="radio"
                                        name="crawler-mode"
                                        value="range"
                                        onchange="Admin.toggleCrawlerMode()"
                                        style="margin-right: 8px"
                                    />
                                    <span>IDèŒƒå›´æ¨¡å¼</span>
                                </label>
                            </div>
                        </div>

                        <div style="display: flex; gap: 15px; flex-wrap: wrap; align-items: flex-end">
                            <div style="flex: 1; min-width: 120px" id="start-id-container">
                                <label style="display: block; margin-bottom: 5px; font-weight: 500">å¼€å§‹ID</label>
                                <input
                                    type="number"
                                    id="crawler-start-id"
                                    placeholder="ä¾‹å¦‚: 1"
                                    disabled
                                    style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px"
                                />
                            </div>
                            <div style="flex: 1; min-width: 120px" id="end-id-container">
                                <label style="display: block; margin-bottom: 5px; font-weight: 500">ç»“æŸID</label>
                                <input
                                    type="number"
                                    id="crawler-end-id"
                                    placeholder="ä¾‹å¦‚: 100"
                                    disabled
                                    style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px"
                                />
                            </div>
                            <div style="flex: 1; min-width: 120px">
                                <label style="display: block; margin-bottom: 5px; font-weight: 500">å»¶è¿Ÿ(ms)</label>
                                <input
                                    type="number"
                                    id="crawler-delay"
                                    value="2000"
                                    style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px"
                                />
                            </div>
                            <div style="flex: 1; min-width: 150px">
                                <label style="display: block; margin-bottom: 5px; font-weight: 500">å¹¶å‘çº¿ç¨‹æ•°</label>
                                <select
                                    id="crawler-concurrency"
                                    style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px"
                                >
                                    <option value="1">å•çº¿ç¨‹ (1)</option>
                                    <option value="10">10 ä¸ªçº¿ç¨‹</option>
                                    <option value="20">20 ä¸ªçº¿ç¨‹</option>
                                    <option value="50">50 ä¸ªçº¿ç¨‹</option>
                                    <option value="100">100 ä¸ªçº¿ç¨‹</option>
                                </select>
                            </div>
                            <div style="display: flex; gap: 10px">
                                <button class="btn btn-primary" id="crawler-start-btn" onclick="Admin.startCrawler()">
                                    å¯åŠ¨éå†
                                </button>
                                <button
                                    class="btn btn-outline"
                                    id="crawler-stop-btn"
                                    onclick="Admin.stopCrawler()"
                                    disabled
                                >
                                    åœæ­¢
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- è¿›åº¦æ˜¾ç¤º -->
                    <div
                        id="crawler-status"
                        style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-bottom: 20px"
                    >
                        <div
                            style="
                                display: flex;
                                justify-content: space-between;
                                margin-bottom: 15px;
                                flex-wrap: wrap;
                                gap: 10px;
                            "
                        >
                            <span>
                                çŠ¶æ€ï¼š
                                <strong id="crawler-state">æœªå¯åŠ¨</strong>
                            </span>
                            <span>
                                å½“å‰IDï¼š
                                <strong id="crawler-current-id">-</strong>
                            </span>
                            <span>
                                è¿›åº¦ï¼š
                                <strong id="crawler-progress">0%</strong>
                            </span>
                            <span>
                                çº¿ç¨‹æ•°ï¼š
                                <strong id="crawler-concurrency-display">1</strong>
                            </span>
                            <span>
                                æ´»è·ƒçº¿ç¨‹ï¼š
                                <strong id="crawler-active-threads" style="color: #667eea">0</strong>
                            </span>
                        </div>
                        <div style="background: #e0e0e0; height: 8px; border-radius: 4px; overflow: hidden">
                            <div
                                id="crawler-progress-bar"
                                style="
                                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                                    height: 100%;
                                    width: 0%;
                                    transition: width 0.3s;
                                "
                            ></div>
                        </div>
                        <div
                            style="
                                display: flex;
                                justify-content: space-between;
                                margin-top: 15px;
                                color: #666;
                                flex-wrap: wrap;
                                gap: 10px;
                            "
                        >
                            <span>
                                æˆåŠŸï¼š
                                <span id="crawler-success" style="color: #4caf50">0</span>
                            </span>
                            <span>
                                å¤±è´¥ï¼š
                                <span id="crawler-fail" style="color: #f44336">0</span>
                            </span>
                            <span>
                                å·²å¤„ç†ï¼š
                                <span id="crawler-processed">0</span>
                            </span>
                            <span>
                                å¾…å¤„ç†ï¼š
                                <span id="crawler-pending">0</span>
                            </span>
                            <span>
                                è€—æ—¶ï¼š
                                <span id="crawler-elapsed">0s</span>
                            </span>
                            <span>
                                é€Ÿåº¦ï¼š
                                <span id="crawler-speed" style="color: #667eea">0</span>
                                æœ¬/åˆ†
                            </span>
                            <span>
                                é¢„è®¡å‰©ä½™ï¼š
                                <span id="crawler-eta">-</span>
                            </span>
                        </div>
                    </div>

                    <!-- æ—¥å¿—æ˜¾ç¤º -->
                    <div
                        style="
                            background: #1a1a2e;
                            color: #eee;
                            padding: 15px;
                            border-radius: 12px;
                            height: 300px;
                            overflow-y: auto;
                            font-family: monospace;
                            font-size: 13px;
                        "
                        id="crawler-logs"
                    >
                        <div style="color: #888">ç­‰å¾…å¯åŠ¨...</div>
                    </div>
                </div>
                <!-- å¤‡ä»½ç®¡ç†é¢æ¿ -->
                <div class="admin-panel" id="panel-backup" style="display: none;">
                    <h2>ğŸ’¾ æ•°æ®åº“å¤‡ä»½ç®¡ç†</h2>
                    
                    <!-- å¤‡ä»½æ“ä½œåŒº -->
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-bottom: 20px">
                        <h3 style="margin: 0 0 15px 0">ğŸ”§ å¤‡ä»½æ“ä½œ</h3>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 15px;">
                            <button class="btn btn-primary" onclick="Admin.createFullBackup()">
                                ğŸ“¦ åˆ›å»ºå®Œæ•´å¤‡ä»½
                            </button>
                            <button class="btn btn-outline" onclick="Admin.createIncrementalBackup()">
                                ğŸ”„ åˆ›å»ºå¢é‡å¤‡ä»½
                            </button>
                            <button class="btn btn-secondary" onclick="Admin.refreshBackups()">
                                ğŸ”„ åˆ·æ–°å¤‡ä»½åˆ—è¡¨
                            </button>
                        </div>
                        
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <input type="text" id="backup-name-input" placeholder="è¾“å…¥å¤‡ä»½æ–‡ä»¶å..." style="flex: 1; min-width: 200px;" />
                            <button class="btn btn-warning" onclick="Admin.compressBackup()">
                                ğŸ—œï¸ å‹ç¼©é€‰ä¸­å¤‡ä»½
                            </button>
                        </div>
                    </div>
                    
                    <!-- å¤‡ä»½åˆ—è¡¨ -->
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 12px;">
                        <h3 style="margin: 0 0 15px 0">ğŸ“‹ å¤‡ä»½æ–‡ä»¶åˆ—è¡¨</h3>
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>é€‰æ‹©</th>
                                        <th>æ–‡ä»¶å</th>
                                        <th>å¤§å°</th>
                                        <th>åˆ›å»ºæ—¶é—´</th>
                                        <th>ç±»å‹</th>
                                        <th>æ“ä½œ</th>
                                    </tr>
                                </thead>
                                <tbody id="backup-table-body">
                                    <tr>
                                        <td colspan="6" style="text-align: center;">æš‚æ— å¤‡ä»½æ–‡ä»¶</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div style="margin-top: 15px; display: flex; gap: 10px; flex-wrap: wrap;">
                            <button class="btn btn-danger" onclick="Admin.deleteSelectedBackups()" disabled id="delete-selected-btn">
                                ğŸ—‘ï¸ åˆ é™¤é€‰ä¸­
                            </button>
                            <button class="btn btn-success" onclick="Admin.restoreSelectedBackup()" disabled id="restore-selected-btn">
                                ğŸ” æ¢å¤é€‰ä¸­
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- çº é”™å®¡æ ¸é¢æ¿ -->
                <div class="admin-panel" id="panel-corrections">
                    <h2>âœ… çº é”™å®¡æ ¸</h2>
                    
                    <!-- ç­›é€‰å·¥å…·æ  -->
                    <div class="toolbar">
                        <select id="correction-status-filter" onchange="Admin.loadCorrections()">
                            <option value="pending">å¾…å®¡æ ¸</option>
                            <option value="approved">å·²é€šè¿‡</option>
                            <option value="rejected">å·²æ‹’ç»</option>
                        </select>
                        <button class="btn btn-outline" onclick="Admin.loadCorrections()">ğŸ”„ åˆ·æ–°</button>
                    </div>
                    
                    <!-- ç»Ÿè®¡å¡ç‰‡ -->
                    <div class="stats-grid" style="margin-bottom: 20px;">
                        <div class="stat-card">
                            <h3>å¾…å®¡æ ¸</h3>
                            <div class="stat-value" id="correction-pending-count">0</div>
                        </div>
                        <div class="stat-card">
                            <h3>å·²é€šè¿‡</h3>
                            <div class="stat-value" id="correction-approved-count">0</div>
                        </div>
                        <div class="stat-card">
                            <h3>å·²æ‹’ç»</h3>
                            <div class="stat-value" id="correction-rejected-count">0</div>
                        </div>
                    </div>
                    
                    <!-- çº é”™åˆ—è¡¨ -->
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>æäº¤ç”¨æˆ·</th>
                                    <th>ä¹¦å</th>
                                    <th>åŸæ–‡</th>
                                    <th>ä¿®æ­£</th>
                                    <th>æäº¤æ—¶é—´</th>
                                    <th>çŠ¶æ€</th>
                                    <th>æ“ä½œ</th>
                                </tr>
                            </thead>
                            <tbody id="corrections-table-body">
                                <tr>
                                    <td colspan="8" style="text-align: center; color: #999;">åŠ è½½ä¸­...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination" id="corrections-pagination"></div>
                </div>
                
                <!-- æ€§èƒ½ç›‘æ§é¢æ¿ -->
                <div class="admin-panel" id="panel-monitoring" style="display: none;">
                    <h2>ğŸ“ˆ æ€§èƒ½ç›‘æ§ä¸å‘Šè­¦</h2>
                    
                    <!-- å®æ—¶ç³»ç»Ÿç›‘æ§ -->
                    <div class="card">
                        <h3>ğŸ–¥ï¸ å®æ—¶ç³»ç»Ÿç›‘æ§</h3>
                        <div class="monitoring-charts">
                            <div class="chart-container">
                                <canvas id="cpuChart"></canvas>
                            </div>
                            <div class="chart-container">
                                <canvas id="memoryChart"></canvas>
                            </div>
                            <div class="chart-container">
                                <canvas id="networkChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- æœåŠ¡å™¨çŠ¶æ€ -->
                    <div class="card">
                        <h3>ğŸ’» æœåŠ¡å™¨çŠ¶æ€</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <h4>CPUæ ¸å¿ƒæ•°</h4>
                                <div class="stat-value" id="monitor-cpu-cores">-</div>
                            </div>
                            <div class="stat-card">
                                <h4>å†…å­˜ä½¿ç”¨ç‡</h4>
                                <div class="stat-value" id="monitor-mem-percent">-</div>
                            </div>
                            <div class="stat-card">
                                <h4>å·²ç”¨å†…å­˜</h4>
                                <div class="stat-value" id="monitor-mem-used">-</div>
                            </div>
                            <div class="stat-card">
                                <h4>ç³»ç»Ÿè¿è¡Œæ—¶é—´</h4>
                                <div class="stat-value" id="monitor-sys-uptime">-</div>
                            </div>
                            <div class="stat-card">
                                <h4>è¿›ç¨‹è¿è¡Œæ—¶é—´</h4>
                                <div class="stat-value" id="monitor-process-uptime">-</div>
                            </div>
                            <div class="stat-card">
                                <h4>è¿›ç¨‹å†…å­˜</h4>
                                <div class="stat-value" id="monitor-process-mem">-</div>
                            </div>
                        </div>
                        
                        <div class="system-info">
                            <div class="info-item">
                                <strong>å¹³å°:</strong>
                                <span id="monitor-platform">-</span>
                            </div>
                            <div class="info-item">
                                <strong>æ¶æ„:</strong>
                                <span id="monitor-arch">-</span>
                            </div>
                            <div class="info-item">
                                <strong>ä¸»æœºå:</strong>
                                <span id="monitor-hostname">-</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- å‘Šè­¦é…ç½® -->
                    <div class="card">
                        <h3>ğŸ”” å‘Šè­¦é…ç½®</h3>
                        <div class="alert-config-form">
                            <div class="form-group">
                                <label for="cpuThreshold">CPUä½¿ç”¨ç‡é˜ˆå€¼ (%)</label>
                                <input type="number" id="cpuThreshold" min="0" max="100" value="80">
                            </div>
                            <div class="form-group">
                                <label for="memoryThreshold">å†…å­˜ä½¿ç”¨ç‡é˜ˆå€¼ (%)</label>
                                <input type="number" id="memoryThreshold" min="0" max="100" value="85">
                            </div>
                            <div class="form-group">
                                <label for="diskThreshold">ç£ç›˜ä½¿ç”¨ç‡é˜ˆå€¼ (%)</label>
                                <input type="number" id="diskThreshold" min="0" max="100" value="90">
                            </div>
                            <button id="saveAlertConfig" class="btn btn-primary">ä¿å­˜é…ç½®</button>
                        </div>
                    </div>
                    
                    <!-- å‘Šè­¦å†å² -->
                    <div class="card">
                        <h3>ğŸ“œ å‘Šè­¦å†å²</h3>
                        <div class="alert-history">
                            <table id="alertHistoryTable">
                                <thead>
                                    <tr>
                                        <th>æ—¶é—´</th>
                                        <th>ç±»å‹</th>
                                        <th>çº§åˆ«</th>
                                        <th>è¯¦æƒ…</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- å‘Šè­¦è®°å½•å°†åœ¨è¿™é‡ŒåŠ¨æ€åŠ è½½ -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>

        <!-- ç¼–è¾‘ç”¨æˆ·å¼¹çª— -->
        <div class="edit-modal" id="user-edit-modal">
            <div class="edit-modal-content">
                <h3>ç¼–è¾‘ç”¨æˆ·</h3>
                <form id="user-edit-form">
                    <input type="hidden" id="edit-user-id" />
                    <div class="form-group">
                        <label>ç”¨æˆ·å</label>
                        <input type="text" id="edit-user-username" readonly />
                    </div>
                    <div class="form-group">
                        <label>é‡ç½®å¯†ç ï¼ˆç•™ç©ºä¸ä¿®æ”¹ï¼‰</label>
                        <input type="password" id="edit-user-password" placeholder="è¾“å…¥æ–°å¯†ç ..." />
                    </div>
                    <div class="form-group">
                        <label>PO18 Cookie</label>
                        <textarea id="edit-user-cookie" placeholder="PO18 Cookie..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>å…±äº«çŠ¶æ€</label>
                        <select id="edit-user-share">
                            <option value="0">æœªå¯ç”¨</option>
                            <option value="1">å·²å¯ç”¨</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>å…¨ç«™ä¹¦åº“æƒé™</label>
                        <select id="edit-user-cache-auth">
                            <option value="0">æœªæˆæƒ</option>
                            <option value="1">å·²æˆæƒ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>äº‘ç«¯ä¹¦åº“æƒé™</label>
                        <select id="edit-user-library-auth">
                            <option value="0">æœªæˆæƒ</option>
                            <option value="1">å·²æˆæƒ</option>
                        </select>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-outline" onclick="Admin.closeModal('user-edit-modal')">
                            å–æ¶ˆ
                        </button>
                        <button type="submit" class="btn btn-primary">ä¿å­˜</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- ç¼–è¾‘ä¹¦ç±å¼¹çª— -->
        <div class="edit-modal" id="book-edit-modal">
            <div class="edit-modal-content">
                <h3>ç¼–è¾‘ä¹¦ç±ä¿¡æ¯</h3>
                <form id="book-edit-form">
                    <input type="hidden" id="edit-book-id" />
                    <div class="form-group">
                        <label>ä¹¦ç±ID</label>
                        <input type="text" id="edit-book-bid" readonly />
                    </div>
                    <div class="form-group">
                        <label>ä¹¦å</label>
                        <input type="text" id="edit-book-title" />
                    </div>
                    <div class="form-group">
                        <label>ä½œè€…</label>
                        <input type="text" id="edit-book-author" />
                    </div>
                    <div class="form-group">
                        <label>åˆ†ç±»ï¼ˆç”¨Â·åˆ†éš”ï¼‰</label>
                        <input type="text" id="edit-book-tags" placeholder="è¨€æƒ…Â·æ ¡å›­Â·ç”œå® " />
                    </div>
                    <div class="form-group">
                        <label>å­—æ•°</label>
                        <input type="number" id="edit-book-wordcount" />
                    </div>
                    <div class="form-group">
                        <label>æ€»ç« èŠ‚æ•°</label>
                        <input type="number" id="edit-book-total-chapters" />
                    </div>
                    <div class="form-group">
                        <label>å…è´¹ç« èŠ‚æ•°</label>
                        <input type="number" id="edit-book-free-chapters" />
                    </div>
                    <div class="form-group">
                        <label>ä»˜è´¹ç« èŠ‚æ•°</label>
                        <input type="number" id="edit-book-paid-chapters" />
                    </div>
                    <div class="form-group">
                        <label>çŠ¶æ€</label>
                        <select id="edit-book-status">
                            <option value="ongoing">è¿è½½ä¸­</option>
                            <option value="completed">å·²å®Œç»“</option>
                            <option value="unknown">æœªçŸ¥</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>æœ€æ–°ç« èŠ‚å</label>
                        <input type="text" id="edit-book-latest-chapter" />
                    </div>
                    <div class="form-group">
                        <label>æ›´æ–°æ—¶é—´</label>
                        <input type="text" id="edit-book-latest-date" placeholder="2025-12-14 15:00" />
                    </div>
                    <div class="form-group">
                        <label>å¹³å°æ ‡è¯†</label>
                        <input type="text" id="edit-book-platform" value="po18" readonly />
                    </div>
                    <div class="form-group">
                        <label>ç®€ä»‹</label>
                        <textarea id="edit-book-description" rows="4"></textarea>
                    </div>
                    <div class="form-group">
                        <label>å°é¢URL</label>
                        <input type="text" id="edit-book-cover" />
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-outline" onclick="Admin.closeModal('book-edit-modal')">
                            å–æ¶ˆ
                        </button>
                        <button type="submit" class="btn btn-primary">ä¿å­˜</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Toast -->
        <div class="toast" id="toast"></div>

        <script src="js/admin.js?v=20251224d"></script>
    </body>
</html>
